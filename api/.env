# ===========================================
# PIZZARIA MASSA NOSTRA - API
# Configuração de Ambiente - Desenvolvimento
# Última atualização: 2025-11-22 20:55:32 UTC
# ===========================================

# ============================================
# BANCO DE DADOS - SUPABASE (PostgreSQL)
# ============================================
# Host do Supabase (obtido em: Settings > Database > Connection string)
DB_HOST=db.immtupjumavgpefcvzpg.supabase.co

# Porta padrão PostgreSQL no Supabase
DB_PORT=5432

# Usuário padrão Supabase
DB_USERNAME=postgres

# Senha do banco (definida ao criar projeto Supabase)
DB_PASSWORD=Pizza@Massa@Nostra

# Nome do banco (sempre "postgres" no Supabase)
DB_DATABASE=postgres

# ============================================
# SERVIDOR API
# ============================================
# Porta onde a API irá rodar (localhost:3001)
# Mudamos de 1337 para 3001
PORT=3001

# ============================================
# AUTENTICAÇÃO JWT
# ============================================
# Chave secreta para assinar tokens JWT
# TROCAR EM PRODUÇÃO!
# Gerar nova: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=pizzaria_massa_nostra_jwt_secret_2025_dev_change_in_production

# ============================================
# SUPABASE - CLIENTE (Backend)
# ============================================
# URL do projeto Supabase
# Obtido em: Settings > API > Project URL
SUPABASE_URL=https://immtupjumavgpefcvzpg.supabase.co

# API Key pública (anon public)
# Obtido em: Settings > API > Project API keys > anon public
# Seguro expor no frontend
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImltbXR1cGp1bWF2Z3BlZmN2enBnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM3NzQ5NDAsImV4cCI6MjA3OTM1MDk0MH0.DwQvXvPfAqW_Z7co85OFZ21W6TYhCWylnRRonDa6RRQ

# Service Role Key (secret)
# Obtido em: Settings > API > Project API keys > service_role secret
# NUNCA EXPOR NO FRONTEND! Apenas backend!
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImltbXR1cGp1bWF2Z3BlZmN2enBnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2Mzc3NDk0MCwiZXhwIjoyMDc5MzUwOTQwfQ.e3APbHBSbzLSF7uaMqx3LvfIxQcVvPPgveu1JPa1DM0

# JWT Secret do Supabase (para validação de tokens)
SUPABASE_JWT_SECRET=kmndZEvZJ7zpoby+dF57WvDX+eEUa3KWcfzx30LilfIn1OKJ4a33t8vQaoZcyG1ExzD1fZMuF4p1STugub9YSg==

# ============================================
# INTEGRAÇÃO MERCADO PAGO
# ============================================
# Modo: TEST (não cobra de verdade)
# Trocar para PROD quando lançar!

# Access Token de TESTE
# Obtido em: https://www.mercadopago.com.br/developers/panel/credentials
MERCADOPAGO_ACCESS_TOKEN=TEST-1366611390392580-112214-739346c9838245ce8372f838876b5612-139355121

# Public Key de TESTE (usado no frontend)
MERCADOPAGO_PUBLIC_KEY=TEST-bd154e5a-1ca8-4fe2-9c2a-dcdb0137a9fa

# Client ID
MERCADOPAGO_CLIENT_ID=2802889019327525

# Client Secret
MERCADOPAGO_CLIENT_SECRET=rjATvv2q5LzBa90XN7gVlVOwmDps8nts

# URL webhook para notificações de pagamento
# Configurar URL real quando fizer deploy
MERCADOPAGO_WEBHOOK_URL=http://localhost:3001/webhooks/mercadopago

# ============================================
# EMAIL - SENDGRID
# ============================================
# API Key do SendGrid
# Obtido em: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=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

# Email remetente (VERIFICADO no SendGrid)
SENDGRID_FROM_EMAIL=pizzariamassanostra@gmail.com

# Nome do remetente
SENDGRID_FROM_NAME=Pizzaria Massa Nostra

# Email para logs de erro
LOG_EMAIL=pizzariamassanostra@gmail.com

# ============================================
# CLOUDINARY (UPLOAD DE IMAGENS)
# ============================================
# Cloud Name
# Obtido em: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=dlqjyuk3c

# API Key (público)
CLOUDINARY_API_KEY=137391185484425

# API Secret (privado)
CLOUDINARY_API_SECRET=77wGz8L6A77SwaxkwPlVU4zxklE

# ============================================
# GOOGLE MAPS (Cálculo de distância)
# ============================================
# API Key do Google Maps Distance Matrix API
# Obtido em: https://console.cloud.google.com/
# Gratuito até 25.000 requisições/mês
GOOGLE_MAPS_API_KEY=AIzaSyDH2Yguzla7DV0qWN20utMl3xonxJBqcKg

# ============================================
# FRONTEND (CORS e redirecionamentos)
# ============================================
# URL do frontend em desenvolvimento
FRONTEND_URL=http://localhost:3000

# URL do frontend em produção (quando fizer deploy)
# Descomentar e ajustar quando subir para Vercel
# FRONTEND_URL_PRODUCTION=https://pizzariamassanostra.vercel.app

# ============================================
# CONFIGURAÇÕES ADICIONAIS
# ============================================
# Ambiente de execução
NODE_ENV=development

# Timeout para requisições (milissegundos)
REQUEST_TIMEOUT=30000

# Tamanho máximo de upload (MB)
MAX_FILE_SIZE=10